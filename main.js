!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=79)}([function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(45))},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(1),o=n(28),i=n(9),c=n(12),a=Object.defineProperty;e.f=r?a:function(t,e,n){if(i(t),e=c(e,!0),i(n),o)try{return a(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){var r=n(0),o=n(24).f,i=n(7),c=n(46),a=n(13),u=n(50),s=n(56);t.exports=function(t,e){var n,l,f,d,p,h=t.target,v=t.global,y=t.stat;if(n=v?r:y?r[h]||a(h,{}):(r[h]||{}).prototype)for(l in e){if(d=e[l],f=t.noTargetGet?(p=o(n,l))&&p.value:n[l],!s(v?l:h+(y?".":"#")+l,t.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(t.sham||f&&f.sham)&&i(d,"sham",!0),c(n,l,d,t)}}},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(1),o=n(4),i=n(10);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(26),o=n(11);t.exports=function(t){return r(o(t))}},function(t,e,n){var r=n(6);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(6);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(0),o=n(7);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(0),o=n(13),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e){t.exports={}},function(t,e,n){var r=n(52),o=n(0),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e,n){var r=n(18),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,n){var r=n(0),o=n(32),i=n(3),c=n(33),a=n(40),u=n(60),s=o("wks"),l=r.Symbol,f=u?l:l&&l.withoutSetter||c;t.exports=function(t){return i(s,t)||(a&&i(l,t)?s[t]=l[t]:s[t]=f("Symbol."+t)),s[t]}},function(t,e,n){var r=n(1),o=n(2),i=n(3),c=Object.defineProperty,a={},u=function(t){throw t};t.exports=function(t,e){if(i(a,t))return a[t];e||(e={});var n=[][t],s=!!i(e,"ACCESSORS")&&e.ACCESSORS,l=i(e,0)?e[0]:u,f=i(e,1)?e[1]:void 0;return a[t]=!!n&&!o((function(){if(s&&!r)return!0;var t={length:-1};s?c(t,1,{enumerable:!0,get:u}):t[1]=1,n.call(t,l,f)}))}},function(t,e,n){var r=n(5),o=n(1);r({target:"Object",stat:!0,forced:!o,sham:!o},{defineProperty:n(4).f})},function(t,e,n){"use strict";var r=n(5),o=n(36);r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},function(t,e,n){var r=n(1),o=n(25),i=n(10),c=n(8),a=n(12),u=n(3),s=n(28),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=c(t),e=a(e,!0),s)try{return l(t,e)}catch(t){}if(u(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(2),o=n(27),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(1),o=n(2),i=n(29);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(0),o=n(6),i=r.document,c=o(i)&&o(i.createElement);t.exports=function(t){return c?i.createElement(t):{}}},function(t,e,n){var r=n(14),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(32),o=n(33),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(49),o=n(14);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.1",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e,n){var r=n(3),o=n(8),i=n(54).indexOf,c=n(15);t.exports=function(t,e){var n,a=o(t),u=0,s=[];for(n in a)!r(c,n)&&r(a,n)&&s.push(n);for(;e.length>u;)r(a,n=e[u++])&&(~i(s,n)||s.push(n));return s}},function(t,e,n){var r=n(18),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){"use strict";var r=n(37).forEach,o=n(61),i=n(21),c=o("forEach"),a=i("forEach");t.exports=c&&a?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(57),o=n(26),i=n(38),c=n(17),a=n(39),u=[].push,s=function(t){var e=1==t,n=2==t,s=3==t,l=4==t,f=6==t,d=7==t,p=5==t||f;return function(h,v,y,g){for(var m,x,b=i(h),E=o(b),S=r(v,y,3),w=c(E.length),L=0,O=g||a,M=e?O(h,w):n||d?O(h,0):void 0;w>L;L++)if((p||L in E)&&(x=S(m=E[L],L,b),t))if(e)M[L]=x;else if(x)switch(t){case 3:return!0;case 5:return m;case 6:return L;case 2:u.call(M,m)}else switch(t){case 4:return!1;case 7:u.call(M,m)}return f?-1:s||l?l:M}};t.exports={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterOut:s(7)}},function(t,e,n){var r=n(11);t.exports=function(t){return Object(r(t))}},function(t,e,n){var r=n(6),o=n(59),i=n(20)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2);t.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},function(t,e,n){var r=n(34),o=n(19);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(0),o=n(64),i=n(36),c=n(7);for(var a in o){var u=r[a],s=u&&u.prototype;if(s&&s.forEach!==i)try{c(s,"forEach",i)}catch(t){s.forEach=i}}},function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},function(t,e,n){},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(0),o=n(7),i=n(3),c=n(13),a=n(30),u=n(47),s=u.get,l=u.enforce,f=String(String).split("String");(t.exports=function(t,e,n,a){var u,s=!!a&&!!a.unsafe,d=!!a&&!!a.enumerable,p=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(u=l(n)).source||(u.source=f.join("string"==typeof e?e:""))),t!==r?(s?!p&&t[e]&&(d=!0):delete t[e],d?t[e]=n:o(t,e,n)):d?t[e]=n:c(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&s(this).source||a(this)}))},function(t,e,n){var r,o,i,c=n(48),a=n(0),u=n(6),s=n(7),l=n(3),f=n(14),d=n(31),p=n(15),h=a.WeakMap;if(c){var v=f.state||(f.state=new h),y=v.get,g=v.has,m=v.set;r=function(t,e){return e.facade=t,m.call(v,t,e),e},o=function(t){return y.call(v,t)||{}},i=function(t){return g.call(v,t)}}else{var x=d("state");p[x]=!0,r=function(t,e){return e.facade=t,s(t,x,e),e},o=function(t){return l(t,x)?t[x]:{}},i=function(t){return l(t,x)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!u(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(0),o=n(30),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e){t.exports=!1},function(t,e,n){var r=n(3),o=n(51),i=n(24),c=n(4);t.exports=function(t,e){for(var n=o(e),a=c.f,u=i.f,s=0;s<n.length;s++){var l=n[s];r(t,l)||a(t,l,u(e,l))}}},function(t,e,n){var r=n(16),o=n(53),i=n(55),c=n(9);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(c(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(0);t.exports=r},function(t,e,n){var r=n(34),o=n(19).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(8),o=n(17),i=n(35),c=function(t){return function(e,n,c){var a,u=r(e),s=o(u.length),l=i(c,s);if(t&&n!=n){for(;s>l;)if((a=u[l++])!=a)return!0}else for(;s>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=a[c(t)];return n==s||n!=u&&("function"==typeof e?r(e):!!e)},c=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},u=i.NATIVE="N",s=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(58);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(27);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(40);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(5),o=n(63).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(1),o=n(41),i=n(8),c=n(25).f,a=function(t){return function(e){for(var n,a=i(e),u=o(a),s=u.length,l=0,f=[];s>l;)n=u[l++],r&&!c.call(a,n)||f.push(t?[n,a[n]]:a[n]);return f}};t.exports={entries:a(!0),values:a(!1)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){"use strict";var r=n(5),o=n(37).findIndex,i=n(66),c=n(21),a=!0,u=c("findIndex");"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a||!u},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){var r=n(20),o=n(67),i=n(4),c=r("unscopables"),a=Array.prototype;null==a[c]&&i.f(a,c,{configurable:!0,value:o(null)}),t.exports=function(t){a[c][t]=!0}},function(t,e,n){var r,o=n(9),i=n(68),c=n(19),a=n(15),u=n(69),s=n(29),l=n(31),f=l("IE_PROTO"),d=function(){},p=function(t){return"<script>"+t+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=s("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=c.length;n--;)delete h.prototype[c[n]];return h()};a[f]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=o(t),n=new d,d.prototype=null,n[f]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(1),o=n(4),i=n(9),c=n(41);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=c(e),a=r.length,u=0;a>u;)o.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(16);t.exports=r("document","documentElement")},function(t,e,n){"use strict";var r=n(5),o=n(35),i=n(18),c=n(17),a=n(38),u=n(39),s=n(71),l=n(72),f=n(21),d=l("splice"),p=f("splice",{ACCESSORS:!0,0:0,1:2}),h=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!d||!p},{splice:function(t,e){var n,r,l,f,d,p,y=a(this),g=c(y.length),m=o(t,g),x=arguments.length;if(0===x?n=r=0:1===x?(n=0,r=g-m):(n=x-2,r=v(h(i(e),0),g-m)),g+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(y,r),f=0;f<r;f++)(d=m+f)in y&&s(l,f,y[d]);if(l.length=r,n<r){for(f=m;f<g-r;f++)p=f+n,(d=f+r)in y?y[p]=y[d]:delete y[p];for(f=g;f>g-r+n;f--)delete y[f-1]}else if(n>r)for(f=g-r;f>m;f--)p=f+n-1,(d=f+r-1)in y?y[p]=y[d]:delete y[p];for(f=0;f<n;f++)y[f+m]=arguments[f+2];return y.length=g-r+n,l}})},function(t,e,n){"use strict";var r=n(12),o=n(4),i=n(10);t.exports=function(t,e,n){var c=r(e);c in t?o.f(t,c,i(0,n)):t[c]=n}},function(t,e,n){var r=n(2),o=n(20),i=n(73),c=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[c]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r,o,i=n(0),c=n(74),a=i.process,u=a&&a.versions,s=u&&u.v8;s?o=(r=s.split("."))[0]+r[1]:c&&(!(r=c.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=c.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(16);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(1),o=n(4).f,i=Function.prototype,c=i.toString,a=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return c.call(this).match(a)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r=n(5),o=n(77).trim;r({target:"String",proto:!0,forced:n(78)("trim")},{trim:function(){return o(this)}})},function(t,e,n){var r=n(11),o="["+n(43)+"]",i=RegExp("^"+o+o+"*"),c=RegExp(o+o+"*$"),a=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:a(1),end:a(2),trim:a(3)}},function(t,e,n){var r=n(2),o=n(43);t.exports=function(t){return r((function(){return!!o[t]()||"​᠎"!="​᠎"[t]()||o[t].name!==t}))}},function(t,e,n){"use strict";n.r(e);n(44),n(23),n(22),n(62),n(42),n(65),n(70),n(75),n(76);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.title=e,this.cardEl=this.createElement()}var e,n,o;return e=t,(n=[{key:"createMarkup",value:function(){return' \n      <header class="card-header">\n        '.concat(this.title,'\n        <span class="card-del hidden" title="Delete card">&#xd7;</span>\n      </header>\n      <div class=\'card-content\'>\n        Task\n      </div>      \n    ')}},{key:"createElement",value:function(){var t=document.createElement("DIV");return t.classList.add("card"),t.insertAdjacentHTML("beforeend",this.createMarkup()),t}},{key:"bindToDOM",value:function(t){t.append(this.cardEl)}}])&&r(e.prototype,n),o&&r(e,o),t}();function i(t,e){t.style.left="".concat(event.clientX-e.x,"px"),t.style.top="".concat(event.clientY-e.y,"px")}function c(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"onClick",value:function(t){var e=t.target,n=t.currentTarget,r=n.querySelector(".column-cards-box"),i=n.querySelectorAll(".column-footer");if(e.classList.contains("add-sign")||e.classList.contains("add-text"))i.forEach((function(t){return t.classList.toggle("hidden")}));else{if(e.classList.contains("footer-text-del"))return i.forEach((function(t){return t.classList.toggle("hidden")})),void(n.querySelector("textarea").value="");if(e.classList.contains("footer-text-btn")){var a=n.querySelector("textarea").value;if(a.trim()){var u=r.dataset.name;n.querySelector("textarea").value="",i.forEach((function(t){return t.classList.toggle("hidden")}));var s=new o(a);return s.bindToDOM(r),void this.state[u].push(s)}}if(e.classList.contains("card-del")){var l=r.dataset.name,f=r.children,d=e.closest(".card"),p=c(f).findIndex((function(t){return t===d}));this.state[l].splice(p,1),d.remove()}}}},{key:"onMouseOver",value:function(t){if(t.target.classList.contains("card")){var e=t.target.querySelector(".card-del");e.classList.remove("hidden"),t.target.addEventListener("mouseleave",(function n(){e.classList.add("hidden"),t.target.removeEventListener("mouseleave",n)}))}}},{key:"onMouseDown",value:function(t){t.preventDefault();var e=t.target;e.classList.contains("column-cards-box")||e.classList.contains("card-del")||(this.draggedEl=e.closest(".card"),this.clonedEl=this.draggedEl.cloneNode(!0),this.deltas.rect=this.draggedEl.getBoundingClientRect(),this.deltas.x=t.clientX-this.deltas.rect.left,this.deltas.y=t.clientY-this.deltas.rect.top,this.clonedEl.classList.add("dragged"),document.querySelectorAll("*").forEach((function(t){return t.style.cursor="grabbing"})),this.draggedEl.classList.add("hidden"),document.body.appendChild(this.clonedEl),this.clonedEl.style.width="".concat(this.deltas.rect.width,"px"),this.clonedEl.style.height="".concat(this.deltas.rect.height,"px"),i(this.clonedEl,this.deltas))}},{key:"onMouseMove",value:function(t){if(t.preventDefault(),this.draggedEl){i(this.clonedEl,this.deltas);var e=t.target.closest(".column-cards-box"),n=t.target.closest(".card"),r=this.deltas.rect;if(!e&&document.querySelector(".card-cap")&&this.capEl.remove(),n){var o=function(t,e){var n=e.getBoundingClientRect();return t.clientY<=n.top+n.height/2}(t,n);this.capEl||(this.capEl=document.createElement("DIV"),this.capEl.classList.add("card-cap"),this.capEl.style.width="".concat(r.width,"px"),this.capEl.style.height="".concat(r.height,"px")),n.insertAdjacentElement("".concat(o?"beforebegin":"afterend"),this.capEl)}}}},{key:"onMouseUp",value:function(t){var e=this;if(this.draggedEl){var n=t.target.closest(".column-cards-box"),r=document.querySelector(".card-cap"),o=this.draggedEl.closest(".column-cards-box").dataset.name,i=c(document.querySelector("[data-name=".concat(o,"]")).children).findIndex((function(t){return t===e.draggedEl}));n&&!n.children.length&&n.append(this.draggedEl),r&&(r.replaceWith(this.draggedEl),i-=1);var a=this.draggedEl.closest(".column-cards-box").dataset.name,u=c(document.querySelector("[data-name=".concat(a,"]")).children).findIndex((function(t){return t===e.draggedEl})),s=this.state[o].splice(i,1)[0];this.state[a].splice(u,0,s),this.clonedEl.remove(),this.draggedEl.classList.remove("hidden"),this.draggedEl=null,this.clonedEl=null,this.capEl=null,this.deltas={},document.querySelectorAll("*").forEach((function(t){return t.style.cursor=""}))}}},{key:"onMouseLeave",value:function(t){this.draggedEl&&(null!==t.relatedTarget&&"HTML"!==t.relatedTarget.nodeName||(this.clonedEl.remove(),this.draggedEl.classList.remove("hidden"),document.querySelectorAll("*").forEach((function(t){return t.style.cursor=""})),this.capEl&&this.capEl.remove(),this.draggedEl=null,this.clonedEl=null,this.capEl=null,this.deltas={}))}}],(n=null)&&u(e.prototype,n),r&&u(e,r),t}();function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.widget=document.querySelector(".widget-container"),this.columns=document.querySelectorAll(".widget-column"),this.cardBoxes=document.querySelectorAll(".column-cards-box"),this.draggedEl=null,this.clonedEl=null,this.capEl=null,this.deltas={}}var e,n,r;return e=t,(n=[{key:"init",value:function(){this.restoreFromStorage(),this.registerListeners()}},{key:"registerListeners",value:function(){var t=this;this.columns.forEach((function(e){e.addEventListener("click",(function(e){return t.onClick(e)}))})),this.cardBoxes.forEach((function(e){e.addEventListener("mouseover",(function(e){return t.onMouseOver(e)})),e.addEventListener("mousedown",(function(e){return t.onMouseDown(e)}))})),this.widget.addEventListener("mouseout",(function(e){return t.onMouseLeave(e)})),this.widget.addEventListener("mouseup",(function(e){return t.onMouseUp(e)})),window.addEventListener("beforeunload",(function(){return t.saveState()})),document.addEventListener("mousemove",(function(e){return t.onMouseMove(e)}))}},{key:"onClick",value:function(t){s.onClick.call(this,t)}},{key:"onMouseOver",value:function(t){s.onMouseOver(t)}},{key:"onMouseDown",value:function(t){s.onMouseDown.call(this,t)}},{key:"onMouseMove",value:function(t){s.onMouseMove.call(this,t)}},{key:"onMouseLeave",value:function(t){s.onMouseLeave.call(this,t)}},{key:"onMouseUp",value:function(t){s.onMouseUp.call(this,t)}},{key:"restoreFromStorage",value:function(){var t=localStorage.getItem("trello");t?(this.state=JSON.parse(t),Object.entries(this.state).forEach((function(t){t[0].length&&t[1].forEach((function(e){new o(e.title).bindToDOM(document.querySelector("[data-name=".concat(t[0],"]")))}))}))):this.state={todo:[],progress:[],done:[]}}},{key:"saveState",value:function(){localStorage.setItem("trello",JSON.stringify(this.state))}}])&&l(e.prototype,n),r&&l(e,r),t}())).init()}]);
//# sourceMappingURL=main.js.map